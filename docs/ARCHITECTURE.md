1. 系统概述

    该系统旨在为学生提交的代码进行自动化评分。学生通过Web界面上传一个zip包，系统会自动解压并执行评分脚本，最终显示排名。系统采取多层架构，包括前端、后端、数据库、Docker容器等，确保系统能够高效、安全地处理学生提交。

2. 系统组件
    1. 前端（Vue.js）
        - 学生通过Web界面提交zip文件。
        - 提供一个排行榜，展示所有学生的分数和提交时间。
        - 使用Vue.js与Flask后端进行通信。
    2. 后端（Flask）
        - 接收前端提交的zip文件，处理文件上传与解压。
        - 启动Docker容器，运行评分脚本，并返回评分结果。
        - 提供API接口，供前端查询提交状态和排行榜。
    3. 数据库
        - submissions表：记录每次提交的基本信息。
        - grades表：存储每次评分的结果，包括提交ID、分数、评分时间等。
        - 数据库可以选择使用MySQL或PostgreSQL。
    4. Docker容器
        - 为每次提交创建一个独立的Docker容器，确保评分环境的隔离性。
        - 每个容器在评分时运行指定的评分脚本，并限制容器的资源使用，避免恶意提交对系统造成影响。
        - 每个评分容器的生命周期独立，评分完成后销毁。

3. 安全措施
    1. 文件验证
        - 在解压zip包时，检查包内文件是否符合预期的格式（例如只包含代码文件，禁止可执行文件或其他危险文件）。
        - 对上传的文件进行病毒扫描，防止恶意软件感染系统。
    2. Docker安全
        - 使用Docker容器运行评分脚本，确保评分过程与其他系统隔离。
        - 每个容器资源有明确限制（如内存、CPU、磁盘空间），防止恶意代码导致资源耗尽。
        - 容器内的网络访问和文件系统访问受限，防止恶意提交泄露系统信息。
    3. 代码审计
        - 所有评分脚本都经过审计和验证，确保没有漏洞。
        - 提供日志记录功能，记录评分过程中的异常行为，便于追溯和分析。

4. 数据流程
    1. 学生提交：
        - 学生通过Web界面提交包含代码文件的zip包。
        - 后端接收到zip文件后，解压并验证其内容。
    2. Docker评分：
        - 后端为每个提交创建一个独立的Docker容器，并在容器内执行评分脚本。
        - 评分脚本根据预定规则对提交的代码进行评分，结果返回给后端。
    3. 展示结果：
        - 后端保存评分结果和提交时间，并通过API接口提供排行榜。
        - 前端定期刷新排行榜，展示学生分数及排名。

5. 部署与扩展
    - 可以将系统部署在云服务器上，如AWS、Azure或本地数据中心，确保可扩展性。
    - 系统可以扩展支持更多评分脚本和不同类型的作业（如编程题、报告等）。